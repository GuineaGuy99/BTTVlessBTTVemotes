/* BTTVless BTTVemotes by GuineaGuy99 v1.5 */
$.getJSON("https://api.betterttv.net/2/emotes",a=>{function d(){if(window.BTTVlessBTTVemotes)throw new Error("BTTVless BTTVemotes by GuineaGuy99 is already running!");window.BTTVlessBTTVemotes=!0}function e(a){console.log(a),TMI._sessions[0]._rooms[Object.keys(TMI._sessions[0]._rooms)[0]]._showAdminMessage(a)}function f(a){for(var b={},c=a.length-1;c>=0;c--)b[a[c].code]&&a.splice(c,1),b[a[c].code]=!0}function g(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}d(),e("BTTVless BTTVemotes by GuineaGuy99 v1.5");var b=a.emotes;f(b);var c=new MutationObserver(a=>{a.forEach(a=>{var c=a.addedNodes[0];if(void 0==c)return!1;if(1!==c.nodeType)return!1;var d=$(`#${c.id} .message`);b.forEach(a=>{var b=new RegExp(g(a.code),"g"),c=d.html().replace(b,`<span class="balloon-wrapper"><img class="emoticon" src="https://cdn.betterttv.net/emote/${a.id}/1x" srcset="https://cdn.betterttv.net/emote/${a.id}/1x" alt="${a.code}"><div class="balloon balloon--tooltip balloon--up balloon--center mg-t-1">${a.code}</div></span>`);d.html(c)})})});c.observe($(".chat-lines")[0],{childList:!0})});